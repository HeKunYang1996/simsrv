# 协议模拟器 (SimSrv)

一个支持多种工业协议的模拟器，目前支持 Modbus TCP 协议。

## 功能特性

- 支持 Modbus TCP 协议
- 模拟线圈、离散输入、保持寄存器、输入寄存器
- 可配置的数据范围和初始值
- 支持实时数据更新
- 完整的日志记录

## 安装依赖

```bash
pip install -r requirements.txt
```

## 运行模拟器

```bash
python modbus_simulator.py
```

## 配置

编辑 `config.yaml` 文件来配置服务器参数和数据范围。

## 支持的 Modbus 功能码

- 01: 读线圈状态
- 02: 读离散输入
- 03: 读保持寄存器
- 04: 读输入寄存器
- 05: 写单个线圈
- 06: 写单个寄存器
- 15: 写多个线圈
- 16: 写多个寄存器

## 连接信息

- **服务器地址**: localhost
- **端口**: 1502
- **单元ID**: 1

**注意**: 使用端口1502而不是标准的502端口，因为502端口需要root权限。

## 支持的地址范围

- **线圈 (Coils)**: 地址 0-9999
- **离散输入 (Discrete Inputs)**: 地址 10000-19999
- **保持寄存器 (Holding Registers)**: 地址 40000-49999
- **输入寄存器 (Input Registers)**: 地址 30000-39999
